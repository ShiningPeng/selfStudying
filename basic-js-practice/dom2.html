<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <div><b id="oldnode">JavaScript</b>是一个很常用的技术，为网页添加动态效果。</div>
  <a href="javascript:replaceMessage()"> 将加粗改为斜体</a>

  <div id="content">
    <h1>html</h1>
    <h1>php</h1>
    <h1>javascript</h1>
    <h1>jquery</h1>
    <h1>java</h1>
  </div>
  <button onclick="clearText()">清除节点内容</button>

  <ul id="test">
    <li>JavaScript</li>
    <li>HTML</li>
  </ul>
  <ul id="con">
    <li id="lesson1">javascript
      <ul>
        <li id="tcon"> 基础语法</li>
        <li>流程控制语句</li>
        <li>函数</li>
        <li>事件</li>
        <li>DOM</li>
      </ul>
    </li>
    <li id="lesson2">das</li>
    <li id="lesson3">dadf</li>
    <li id="lesson4">HTML/CSS
      <ul>
        <li>文字</li>
        <li>段落</li>
        <li>表单</li>
        <li>表格</li>
      </ul>
    </li>
  </ul>

  <script>
    // 完成为UL标签添加一个新项PHP，在UL中最前面添加一个LI
    var otest = document.getElementById("test");
    var liNode = document.createElement('li');
    var liNode1 = document.createElement('li');
    otest.appendChild(liNode).innerHTML = 'PHP';
    otest.insertBefore(liNode1, otest.childNodes[0]);
    liNode1.innerHTML = 'PHP';

    // 通过获取的mylist节点，使用访问父节点parentNode，将"HTML/CSS"课程内容输出
    var mylist = document.getElementById("tcon");
    document.write(mylist.parentNode.parentNode.parentNode.lastChild.innerHTML);

    // 
    function get_nextSibling(n) {
      var x = n.nextSibling;
      while (x && x.nodeType != 1) {
        x = x.nextSibling;
      }
      return x;
    }

    var x = document.getElementsByTagName("li")[0];
    document.write(x.nodeName);
    document.write(" = ");
    document.write(x.innerHTML);

    var y = get_nextSibling(x);

    if (y != null) {
      document.write("<br />nextsibling: ");
      document.write(y.nodeName);
      document.write(" = ");
      document.write(y.innerHTML);
    } else {
      document.write("<br>已经是最后一个节点");
    }

    function get_previousSibling(n) {
      var x = n.previousSibling;
      while (x && x.nodeType != 1) {
        x = x.previousSibling;
      }
      return x;
    }

    var a = get_previousSibling(x.parentNode);

    if (a != null) {
      document.write("<br />previoussibling: ");
      document.write(a.nodeName);
      document.write(" = ");
      document.write(a.innerHTML);
    } else {
      document.write("<br>已经是第一个节点");
    }

    //removeChild清除子节点
    function clearText() {
      var content = document.getElementById("content");
      // 在此完成该函数
      // for (let i = 0; i < content.childNodes.length; i++) {
      //   console.log('length',content.childNodes.length);
      //   console.log('内容',content.childNodes[i].innerHTML);
      var i = content.childNodes.length;
      while (i + 1) {
        content.removeChild(content.childNodes[0]);
        if (i = 0) { break; }
      }
      // }
    }

      // replaceChild
      function replaceMessage() {
        var oldNode = document.getElementById('oldnode');
        var nodetext = document.createTextNode('JavaScript');
        var newnode = document.createElement('i');
        newnode.appendChild(nodetext);
        oldNode.parentNode.replaceChild(newnode, oldNode);
      }
  </script>
</body>

</html>